["select dispdish4.plimit, dispdish4.numplatebooked, dispdish4.datetime, dispdish4.lord,(((acos(sin(({lat}*pi()/180)) * sin((lat*pi()/180))+cos(({lat}*pi()/180)) * cos((lat*pi()/180)) * cos((({lng}- lng)* pi()/180))))*180/pi())*60*1.1515*1.609344) as distance, dishes1.* from (select * from (select cast(IFNULL(sum(orders.numplate),0) as unsigned)as numplatebooked, dispdish.* from dispdish left join orders on (dispdish.datetime = orders.datetime AND dispdish.dishid = orders.dishid AND dispdish.lord = orders.lord) group by dispdish.datetime,dispdish.dishid,dispdish.lord)dispdish0 where datetime={datetime} AND plimit > 0 AND lord ={lord} )dispdish4 left join (select users1.name, users1.profilepic, users1.lat, users1.lng, users1.address, dishes.* from dishes left join (select chef.aboutus, chef.lat, chef.lng, users.* from users left join chef on chef.chefid = users.id)users1 on users1.id = dishes.cid)dishes1 on dishes1.id = dispdish4.dishid where (plimit-numplatebooked > 0 or true) having distance <= 10", {"lat": "28.6139391", "lord": "d", "lng": "77.20902120000005", "datetime": 1448389800}, {}]